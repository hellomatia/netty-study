# 네티와 채널보안
[자바 네트워크 소녀 Netty](https://product.kyobobook.co.kr/detail/S000001057642)

## 네트워크 데이터 캡쳐
네트워크로 전송된 데이터를 가로채는 것을 네트워크 데이터 캡쳐라 부른다.

### 네트워크 데이터 캡쳐 방법:
1. TCP DUMP 계열의 네트워크 분석 도구 사용. ex) Wireshark
2. 브라우저가 제공하는 부가 기능이나 브라우저의 플러그인으로 지원되는 도구 등을 사용하여 애플리케이션에서 전송하는 데이터를 수집하는 방법. ex) 크롬 개발자 도구
3. HTTP 및 HTTPS와 같이 특정 프로토콜에 해당하는 도구. ex) 피들러

### HTTP 데이터 캡쳐
피들러를 이용하여 데이터 캡쳐 해보기.

[피들러 다운로드 하기](https://www.telerik.com/download/fiddler)

![피들러 화면](./images/fiddler_view.png)
피들러는 브라우저의 프록시 설정에 자신의 서비스 포트를 등록하여 프록시로 동작한다.
<br>
이와 같은 동작 방식을 포워드 프록시라 한다.
<br>
포워드 프록시는 클라이언트가 요청한 프로토콜을 대신 수행하고 결과를 클라이언트로 돌려준다.
<br>
포워드 프록시를 사용하는 클라이언트는 현재 자신이 프록시를 통해 데이터를 요청한다는 시살을 알 수 없다.
<br>
반대 개념으로 리버스 프록시가 있다.
<br>
리버스 프록시는 클라이언트가 요청한 프로토콜을 자신이 처리하지 않고 다른 서버가 수행하도록 포워딩 한다.

## 네트워크 보안

데이터 캡쳐를 통해서 다른 사람이 전송한 데이터를 확인하는 방법을 도감청 또는 스니핑이라 한다.
<br>
이렇게 얻은 정보로 사용자의 개인 정보를 획득할 수 있다.
<br>
다른 방법으로 전송 중인 데이터를 가로채고 내용을 변경하여 전송하는 방법이 있다.
<br>
네트워크 상황에 대한 대비책은 두가지가 있다.

1. 전송되는 데이터 중에서 중요한 부분만 암호화 하는 방법.
2. 전송되는 모든 데이터를 암호화 하는 방법.

### 대칭키/비대칭키 암호화
데이터 암호화는 단방향 암호화, 양방향 암호화로 나눈다.
<br>
원본 문자열을 평문, 암호화의 결과물을 암호문이라 한다.

**단반향 암호화 vs 양방향 암호화**
```asciidoc
[단방향 암호화]
평문 -> 암호화 -> 암호문
* 특징: 암호화된 데이터를 복호화할 수 없음
* 용도: 비밀번호 저장, 해시 함수
* 예시: SHA-256, MD5

[양방향 암호화]
평문 <-> 암호화/복호화 <-> 암호문
* 특징: 암호화된 데이터를 복호화 가능
* 용도: 데이터 전송 중 보호, 기밀 정보 암호화
* 예시: AES, RSA
```

어떤 데이터를 암복화하려면 키가 필요한데 이때 사용되는 키를 암호키라 한다.
<br>
사용되는 키의 종류에 딸하서 대칭키 암호화와 공개키 암호화로 나뉜다.
<br>
대칭키 암호화는 비밀키 암호화라고도 하며 암호화에 사용되는 키와 복호화에 사용되는 키가 동일하낟.
<br>
공개키 암호화는 비대칭키 암호화라 하며 암호화에 사용되는 키와 복호화에 사용되는 키다 다르다.

**대칭키 vs 비대칭키**

| 구분           | 대칭키 암호화                               | 비대칭키 암호화                         |
|----------------|--------------------------------------------|----------------------------------------|
| 키의 개수      | 1개 (암호화와 복호화에 같은 키 사용)         | 2개 (공개키로 암호화, 비밀키로 복호화)  |
| 속도           | 빠름                                       | 느림                                   |
| 사용 용도      | 대용량 데이터 암호화, 내부 네트워크          | 전자 서명, 소량 데이터 암호화           |
| 예시 알고리즘  | AES, DES                                   | RSA, ECC                               |


